
<div class="container-fluid" >
  <div class="row"  ng-repeat="resource in resources | orderBy:'-rating' | limitTo: 100">
    <div class="media" >
      <div ng-if="resource.rating !== 100" class="media-left">
        <div ng-class="['media-rating', {
          'media-rating_gray' : resource.rating === 0
          ,'green-dark' : resource.rating > 84
          ,'green-normal' : resource.rating > 79 && resource.rating < 85
          ,'green-light' : resource.rating > 69 && resource.rating < 80
          ,'yellow-dark' : resource.rating > 59 && resource.rating < 70  
          ,'yellow-normal' : resource.rating > 49 && resource.rating < 60  
          ,'yellow-light' : resource.rating > 39 && resource.rating < 50  
          ,'red-light' : resource.rating > 29 && resource.rating < 40  
          ,'red-normal' : resource.rating < 30  
          }]">
          {{resource.rating}}
        </div>
        <p ng-show="hoveredState" ng-class="['media-cost', {'green' : resource.cost === 'free',  'red' : resource.cost === 'paid'}]">
          {{resource.cost}}
        </p>
      </div>
      <div class="media-body" ng-mouseenter="hoveredState=true" ng-mouseleave="hoveredState=false">
        <p class="media-title">
          <a href="{{ resource.url }}" target="_blank" ng-if="resource.rating !== 100" >{{resource.title}}</a>
          <span ng-if="resource.rating === 100" class="

          ">{{resource.title}}</span>
        </p>
        <p class="media-author" ng-if="resource.author">
          by {{resource.author}} 
        </p>
        <p ng-hide="!hoveredState" class="media-description" ng-bind-html="resource.description">>
          {{resource.description}} 
        </p>
      </div>
      <div class="media-right media-criterion hidden-xs hidden-sm" ng-mouseenter="hoveredState=true" ng-mouseleave="hoveredState=false" ng-if="resource.rating !== 100">
        <p class="media-criterion__difficulty" ng-if="resource.difficulty">
          <span ng-class="['glyphicon', 'glyphicon-stop', {'green' : resource.difficulty === 'beginner',  'yellow' : resource.difficulty === 'intermediate', 'red' : resource.difficulty === 'advanced'}]" aria-hidden="true"></span>&nbsp;
          {{resource.difficulty}} 
        </p>
        <p class="media-criterion__difficulty" ng-if="resource.type">
          <span ng-class="['glyphicon', 'glyphicon-stop', 'gray']" aria-hidden="true"></span>&nbsp;
          {{resource.type}} <span class="media-criterion__length"><span ng-if="resource.length">| {{resource.length}}</span></span>
        </p>
        <p class="media-criterion__difficulty" ng-if="resource.date_published">
          <span ng-class="['glyphicon', 'glyphicon-stop', {'green' : resource.date === 'fresh', 'yellow' : resource.date === 'stale', 'red' : resource.date === 'old'}]" aria-hidden="true"></span>&nbsp;
          {{resource.date_published}} 
        </p>
      </div>
    </div>
  </div>
</div>
